# ğŸ Operator overloading

## ä½•æ—¶ä½¿ç”¨æ™®é€šå‡½æ•°ã€å‹å…ƒå‡½æ•°æˆ–æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦?

1. åœ¨å¤„ç†ä¸ä¿®æ”¹å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ operator+ï¼‰æ—¶ï¼Œé€šå¸¸é¦–é€‰æ™®é€šæˆ–å‹å…ƒå‡½æ•°ç‰ˆæœ¬ï¼Œå› ä¸ºå®ƒé€‚ç”¨äºæ‰€æœ‰å‚æ•°ç±»å‹ï¼ˆå³ä½¿å·¦æ“ä½œæ•°ä¸æ˜¯ç±»å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å¯ä¿®æ”¹çš„ç±»ï¼‰ã€‚æ™®é€šæˆ–å‹å…ƒå‡½æ•°ç‰ˆæœ¬å…·æœ‰â€œå¯¹ç§°â€çš„é¢å¤–å¥½å¤„ï¼Œå› ä¸ºæ‰€æœ‰æ“ä½œæ•°éƒ½æˆä¸ºæ˜¾å¼å‚æ•°ï¼ˆè€Œä¸æ˜¯å·¦æ“ä½œæ•°æˆä¸º `*this` è€Œå³æ“ä½œæ•°æˆä¸ºæ˜¾å¼å‚æ•°ï¼‰
2. åœ¨å¤„ç†ç¡®å®ä¿®æ”¹å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦æ—¶ï¼ˆä¾‹å¦‚ operator+=ï¼‰ï¼Œé€šå¸¸é¦–é€‰æˆå‘˜å‡½æ•°ç‰ˆæœ¬ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæœ€å·¦è¾¹çš„æ“ä½œæ•°å°†å§‹ç»ˆæ˜¯ç±»ç±»å‹ï¼Œå¹¶ä¸”è®©è¢«ä¿®æ”¹çš„å¯¹è±¡æˆä¸º `*this` æŒ‡å‘çš„å¯¹è±¡æ˜¯å¾ˆè‡ªç„¶çš„ã€‚å› ä¸ºæœ€å³è¾¹çš„æ“ä½œæ•°æˆä¸ºä¸€ä¸ªæ˜¾å¼å‚æ•°ï¼Œæ‰€ä»¥ä¸ä¼šæ··æ·†è°æ­£åœ¨ä¿®æ”¹å’Œè°æ­£åœ¨è¯„ä¼°
3. ä¸€å…ƒè¿ç®—ç¬¦é€šå¸¸ä¹Ÿä½œä¸ºæˆå‘˜å‡½æ•°é‡è½½ï¼Œå› ä¸ºæˆå‘˜å‡½æ•°ç‰ˆæœ¬æ²¡æœ‰å‚æ•°
4. ä»¥ä¸‹ç»éªŒæ³•åˆ™å¯ä»¥å¸®åŠ©æ‚¨ç¡®å®šå“ªç§å½¢å¼æœ€é€‚åˆç»™å®šæƒ…å†µï¼š
   1. å¦‚æœè¦é‡è½½èµ‹å€¼ (=)ã€ä¸‹æ ‡ (\[])ã€å‡½æ•°è°ƒç”¨ (()) æˆ–æˆå‘˜é€‰æ‹© (->)ï¼Œè¯·å°†å…¶ä½œä¸ºæˆå‘˜å‡½æ•°è¿›è¡Œé‡è½½
   2. å¦‚æœè¦é‡è½½ä¸€å…ƒè¿ç®—ç¬¦ï¼Œè¯·å°†å…¶ä½œä¸ºæˆå‘˜å‡½æ•°
   3. å¦‚æœè¦é‡è½½ä¸ä¿®æ”¹å…¶å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ operator+ï¼‰ï¼Œè¯·å°†å…¶ä½œä¸ºæ™®é€šå‡½æ•°ï¼ˆé¦–é€‰ï¼‰æˆ–å‹å…ƒå‡½æ•°
   4. å¦‚æœæ‚¨æ­£åœ¨é‡è½½ä¿®æ”¹å…¶å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼Œä½†æ‚¨ä¸èƒ½å°†æˆå‘˜æ·»åŠ åˆ°å·¦æ“ä½œæ•°çš„ç±»å®šä¹‰ä¸­ï¼ˆä¾‹å¦‚ï¼Œoperator<<ï¼Œå®ƒæœ‰ä¸€ä¸ª ostream ç±»å‹çš„å·¦æ“ä½œæ•°ï¼‰ï¼Œè¯·åƒå¾€å¸¸ä¸€æ ·è¿™æ ·åšå‡½æ•°ï¼ˆé¦–é€‰ï¼‰æˆ–å‹å…ƒå‡½æ•°
   5. å¦‚æœæ‚¨æ­£åœ¨é‡è½½ä¿®æ”¹å…¶å·¦æ“ä½œæ•°çš„äºŒå…ƒè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚ operator+=ï¼‰ï¼Œå¹¶ä¸”æ‚¨å¯ä»¥ä¿®æ”¹å·¦æ“ä½œæ•°çš„å®šä¹‰ï¼Œè¯·å°†å…¶ä½œä¸ºæˆå‘˜å‡½æ•°è¿›è¡Œ

## æœ€å°åŒ–æ¯”è¾ƒå†—ä½™

ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªéœ€è¦å®ç°`operator==`å’Œ`operator<`çš„é€»è¾‘ï¼Œå…¶ä»–å››ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦å°±å¯ä»¥æ ¹æ®è¿™ä¸¤ä¸ªæ¥å®šä¹‰äº†ï¼è¿™æ˜¯ä¸€ä¸ªæ›´æ–°çš„ `Cents` ç¤ºä¾‹ï¼Œè¯´æ˜äº†è¿™ä¸€ç‚¹ï¼š

```cpp
#include <iostream>

class Cents
{
private:
    int m_cents;

public:
    Cents(int cents)
        : m_cents{ cents }
    {}

    friend bool operator== (const Cents& c1, const Cents& c2) { return c1.m_cents == c2.m_cents; };
    friend bool operator!= (const Cents& c1, const Cents& c2) { return !(operator==(c1, c2)); };

    friend bool operator< (const Cents& c1, const Cents& c2) { return c1.m_cents < c2.m_cents; };
    friend bool operator> (const Cents& c1, const Cents& c2) { return operator<(c2, c1); };

    friend bool operator<= (const Cents& c1, const Cents& c2) { return !(operator>(c1, c2)); };
    friend bool operator>= (const Cents& c1, const Cents& c2) { return !(operator<(c1, c2)); };

};

int main()
{
    Cents dime{ 10 };
    Cents nickel{ 5 };

    if (nickel > dime)
        std::cout << "a nickel is greater than a dime.\n";
    if (nickel >= dime)
        std::cout << "a nickel is greater than or equal to a dime.\n";
    if (nickel < dime)
        std::cout << "a dime is greater than a nickel.\n";
    if (nickel <= dime)
        std::cout << "a dime is greater than or equal to a nickel.\n";
    if (nickel == dime)
        std::cout << "a dime is equal to a nickel.\n";
    if (nickel != dime)
        std::cout << "a dime is not equal to a nickel.\n";

    return 0;
}
```

è¿™æ ·ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ›´æ”¹æŸäº›å†…å®¹ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ–° operator== å’Œ operator< è€Œä¸æ˜¯æ‰€æœ‰å…­ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼
